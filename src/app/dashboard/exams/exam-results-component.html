
<mat-tab-group class="demo-tab-group">
  <mat-tab label="Per recent exams">
    <ng-template mat-tab-label>
      Subject comparison per exam
    </ng-template>
    <div class="demo-tab-content">
      <div class="ui form blue message">
        <div class="ui three fields">
          <div class="field">
            <div class="ui floating dropdown labeled icon fluid  fluid button" id="levels-dropdown">
              <i class="filter icon"></i>
              <span class="text">Select Level</span>
              <div class="menu">
                <div class="ui icon search input">
                  <i class="search icon"></i>
                  <input placeholder="Search levels..." type="text">
                </div>
                <div class="divider"></div>
                <div class="header">
                  <i class="tags icon"></i>
                  Levels
                </div>
                <div class="scrolling menu">
                  <div class="item" *ngFor="let level of levels" (click)="onSelectLevel(level)">
                    <div class="ui teal empty circular label"></div>
                    {{ level.name }}
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="field">
            <div class="ui floating dropdown labeled icon fluid button">
              <i class="filter icon"></i>
              <span class="text">Select Class</span>
              <div class="menu">
                <div class="ui icon search input">
                  <i class="search icon"></i>
                  <input placeholder="Search classes..." type="text">
                </div>
                <div class="divider"></div>
                <div class="header">
                  <i class="tags icon"></i>
                  Classes
                </div>
                <div class="scrolling menu">
                  <div class="item" *ngFor="let class of classes" (click)="onSelectClass(class)">
                    <div class="ui red empty circular label"></div>
                    {{ class.name }}
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="field">
            <div class="ui floating dropdown labeled icon fluid  fluid button">
              <i class="filter icon"></i>
              <span class="text">Select Result</span>
              <div class="menu">
                <div class="ui icon search input">
                  <i class="search icon" *ngIf="!loadingResults"></i>
                  <i class="loading icon" *ngIf="loadingResults"></i>
                  <input placeholder="Search results..." type="text">
                </div>
                <div class="divider"></div>
                <div class="header">
                  <i class="tags icon"></i>
                  Results
                </div>
                <div class="scrolling menu">
                  <div class="item" *ngFor="let result of examResults" (click)="onSelectResult(result)">
                    <div class="ui teal empty circular label"></div>
                    {{ result.exam.name }}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="ui celled stackable grid">
        <div class="ui ten wide column">
          <jqxChart (onClick)="chartEvent($event)"
                    [title]="title" [description]="description"
                    [width]="'100%'" [height]="500"
                    [colorScheme]="'scheme01'"
                    [source]="resultsData"
                    [xAxis]="xAxis" [valueAxis]="valueAxis"
                    [seriesGroups]="seriesGroups"
                    #myChart>
          </jqxChart>
        </div>

        <div class="ui six wide column">
          <table class="ui celled striped table">
            <thead>
            <tr>
              <th colspan="3">
                {{ selectedResult?.exam.name }}

                <!--Student by student performances-->

                <!--<div class="ui right floated labeled primary icon button" *ngIf="selectedResult">-->
                <!--<i class="icon list"></i>-->
                <!--Students' Results-->
                <!--</div>-->
              </th>
            </tr></thead>
            <tbody>
            <tr *ngFor="let performance of selectedResult?.paper_performances">
              <td class="collapsing">
                <i class="file outline icon"></i> {{ performance.paper.subject.name }}
              </td>
              <td>{{ performance.paper.start | date }}</td>
              <td [ngClass]="{'positive': performance.mean > 80 , 'negative': performance.mean < 70}"
                  class="right aligned collapsing">
                <i *ngIf="performance.mean < 70" class="attention icon"></i>
                <i *ngIf="performance.mean >= 80" class="clap icon"></i>
                {{ performance.mean | number: '1.1-2'}}
              </td>
            </tr>
            <tr>
              <td class="collapsing">
                <i class="folder icon"></i> <b>Class mean</b>
              </td>
              <td></td>
              <td class="right aligned collapsing">
                <i *ngIf="meanForResult < 70" class="attention icon"></i>
                {{ meanForResult |number: '1.1-2' }}
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </mat-tab>
  <mat-tab label="Tab 2">
    <ng-template mat-tab-label>
      Subject trends per class
    </ng-template>
    <div class="demo-tab-content">
      <subject-line-graph></subject-line-graph>
    </div>
  </mat-tab>
  <mat-tab label="Per student">
    <ng-template mat-tab-label>
      Trend per student
    </ng-template>
    <div class="demo-tab-content">
      <student-line-graph></student-line-graph>
    </div>
  </mat-tab>
  <mat-tab label="Per exam means">
    <div class="demo-tab-content">
      <table class="ui celled table">
        <thead>
        <tr><th>Header</th>
          <th>Name</th>
          <th>Mean</th>
        </tr></thead>
        <tbody>
        <tr *ngFor="let result of examResults">
          <td>
            <div class="ui blue ribbon label">First</div>
          </td>
          <td>{{result.exam.name }}</td>
          <td>{{meanForResult | number : '1.2-2'}}</td>
        </tr>
        </tbody>
        <tfoot>
        <tr><th colspan="3">
          <div class="ui right floated pagination menu">
            <a class="icon item">
              <i class="left chevron icon"></i>
            </a>
            <a class="item">1</a>
            <a class="item">2</a>
            <a class="item">3</a>
            <a class="item">4</a>
            <a class="icon item">
              <i class="right chevron icon"></i>
            </a>
          </div>
        </th>
        </tr></tfoot>
      </table>
    </div>
  </mat-tab>
  <mat-tab label="Tab 5">
    No content
  </mat-tab>
  <mat-tab label="Tab 6">
    No content
  </mat-tab>
</mat-tab-group>

