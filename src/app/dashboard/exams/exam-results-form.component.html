
<div class="ui dividing header">
  <div class="ui right aligned category fluid search">
    <div class="ui icon input">
      <input class="fluid" type="text" placeholder="Search and select recent exams..." (keydup)="getExams($event)">
      <i class="search icon"></i>
    </div>
    <div class="results"></div>
  </div>
</div>
<div class="ui inverted active dimmer" *ngIf="!contentReady">
  <mat-progress-bar
    class="example-margin"
    [color]="color"
    [mode]="mode"
    [value]="value"
    [bufferValue]="bufferValue">
  </mat-progress-bar>
</div>


<div class="ui long modal" id="results-modal">
  <div class="ui blue message">
    <div class="ui massive header">
      {{ selectedPaper?.exam.name }}
      div.ui.
    </div>
    <div class="ui header">
      {{ selectedClass?.name }} : {{ selectedPaper?.subject.name }}
    </div>
    <form class="ui segment form">
      <div class="ui field" *ngFor="let student of selectedClass?.students">
        <label>{{ student.user.full_name }}</label>
        <input type="number" max="{{ selectedPaper.total_mark}}">
      </div>
    </form>
  </div>
</div>

<mat-accordion class="example-headers-align">
  <mat-expansion-panel hideToggle="true" *ngFor="let exam of exams">
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ exam.name}}
      </mat-panel-title>
      <mat-panel-description>
        FROM {{ exam.start_date | date }} TO {{ exam.end_date | date}}
        <mat-icon>folder</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>


    <div class="ui list">
      <div class="ui item" *ngFor="let paper of exam.papers" >
        <div class="ui icon message" *ngFor="let class of paper.classes" (click)="selectPaper(paper, class)">
          <i class="file icon"></i>
          <div class="content">
            <div class="header">
              {{ class.name }}
            </div>
            <p> {{ paper.subject.name  }}</p>
          </div>
        </div>
      </div>

    </div>

    <mat-action-row>
      <button mat-button color="primary" >Next</button>
    </mat-action-row>
  </mat-expansion-panel>


</mat-accordion>



