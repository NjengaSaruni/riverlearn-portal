
<div class="ui dividing header">
  <div class="ui right aligned category fluid search">
    <div class="ui icon input">
      <input class="fluid" type="text" placeholder="Search and select recent exams..." (input)="getExams($event)">
      <i class="search icon"></i>
    </div>
    <div class="results"></div>
  </div>
</div>
<div class="ui inverted active dimmer" *ngIf="!contentReady">
  <mat-progress-bar
    class="example-margin"
    [color]="color"
    [mode]="mode"
    [value]="value"
    [bufferValue]="bufferValue">
  </mat-progress-bar>
</div>


<div class="ui long modal" id="results-modal">
  <div class="ui inverted active dimmer" *ngIf="!studentsReady">
    <mat-progress-bar
      class="example-margin"
      [color]="color"
      [mode]="mode"
      [value]="value"
      [bufferValue]="bufferValue">
    </mat-progress-bar>
  </div>
  <div class="ui blue top attached message">
    <div class="ui menu">
      <div class="ui item">
        <div class="ui right floated mini statistics">
          <div class="statistic">
            <div class="value">
              {{ selectedPaper?.exam.name }}
            </div>
          </div>
          <div class="statistic">
            <div class="value">
              {{ selectedClass?.name }}
            </div>
          </div>
          <div class="statistic">
            <div class="value">
              {{ selectedPaper?.subject.name }}
            </div>
          </div>
        </div>
      </div>
      <div class="right item">
        <div class="ui right floated mini statistics">
          <div class="ui mini statistic">
            <div class="value">
              {{ selectedClass?.students.length }}
            </div>
            <div class="label">
              Students
            </div>
          </div>
          <div class="statistic">
            <div class="value">
              31,200
            </div>
            <div class="label">
              Views
            </div>
          </div>
          <div class="statistic">
            <div class="value">
              22
            </div>
            <div class="label">
              Members
            </div>
          </div>
        </div>
      </div>
    </div>
    <hot-table>
      <hot-column [title]="'Student Name'" [colWidths]="300"></hot-column>
      <hot-column *ngFor="let paper_performance of result?.paper_performances" type="numeric"  [colWidths]="100"
                  [title]="paper_performance.paper.subject.name" [data]="data"
      ></hot-column>
      <hot-column [title]="'Total'" [colWidths]="100"></hot-column>
    </hot-table>
    <div class="ui primary button" (click)="addNewColumn($event)">Add column</div>
  </div>
</div>

<mat-accordion class="example-headers-align">
  <mat-expansion-panel hideToggle="true" *ngFor="let exam of exams">
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ exam.name}}
      </mat-panel-title>
      <mat-panel-description>
        FROM {{ exam.start_date | date }} TO {{ exam.end_date | date}}
        <mat-icon>folder</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>


    <div class="ui list">
      <div class="ui item" *ngFor="let paper of exam.papers" >
        <div class="ui icon message" *ngFor="let class of paper.classes" (click)="selectExam(paper, exam, class)">
          <i class="file icon"></i>
          <div class="content">
            <div class="header">
              {{ class.name }}
            </div>
            <p> {{ paper.subject.name  }}</p>
          </div>
        </div>
      </div>

    </div>

    <mat-action-row>
      <button mat-button color="primary" >Next</button>
    </mat-action-row>
  </mat-expansion-panel>


</mat-accordion>



